### 第9章 简化条件表达式

#### 9.1 Decompose Conditional(分解条件表达式)

**做法**

- 将if段落提炼出来，构成一个独立的函数
- 将then段落和else段落提炼出来，各自构成一个独立的函数。

#### 9.2 Consolidate Conditional Expression (合并条件表达式)

*将这些测试合并为一个条件表达式，并将这个条件表达式提炼成为一个独立函数*

**动机**

- 一串条件检查，检查条件不一样，最终的行为却一致。

**做法**

- 确定这些条件语句没有副作用

  > 如果条件表达式有副作用，你就不能使用本项重构。

- 使用适当的逻辑操作符，将一系列相关条件表达式合并为一个

- 编译，测试

- 对合并后的条件表达式实施Extract Method(10)



#### 9.3 Consolidate Duplicate Conditional Fragments(合并重复的条件片段)

**做法**

- 鉴别出“执行方式不随条件变化而变化”的代码
- 如果这些共通代码位于条件表达式起始处，就将它移到条件表达式之前。
- 如果这些共通代码位于条件表达式尾端，就将它移到条件表达式之后。
- 如果这些共通代码位于条件表达式中段，就需要观察共同代码之前或之后的代码是否改变了什么。如果的确有所改变，应该首先将共同代码向前或向后移动，移至条件表达式的起始处或尾端。
- 如果共通代码不止一条语句，应该首先使用Extract Method（110）将共同代码提炼到一个独立的函数，再以前面所说的办法来处理。

