### 12 大型重构

#### 12.1 Tease Apart Inheritance（梳理并分解继承体系）

**做法**

- 首先识别和粗继承体系所承担的不同责任，然后建立一个二维表格。并以坐标抽标出不同的任务。我们将重复运用本重构，处理两个或两个以上的维度。
- 判断哪一项责任更重要些，并准备将它留在当前的继承体系中。准备将另一项责任移到另一个继承体系 中。
- 使用Extract Class（149）从当前的超类提炼出一个新类，用以表示重要性稍低的责任，并在原超类中添加一个实例变量，用以保存新类的实例。
- 对应于原继承体系中的每个子类，创建上述新类的一个子类，在原继承体系的子类中，将前一步骤所添加的实例变量初始化为新建子类的实例。
- 针对原继承体系的每个子类，使用Move Method（142）将其中的行为搬移到阈值对应的新建子类中。
- 当原继承体系中的某个字了不再有任何代码时，将其去除。
- 重复以上步骤，直到源继承体系中所有的子类都被处理过为止。观察新继承体系，看看是否有可能对让它实施其他的重构手法。

#### 12.2 Convert Procedural Design to Objects(将过程化设计转化为对象设计)

*将数据记录变成对象，将大块的行为分成小块，并将行为移入相关对象中*

